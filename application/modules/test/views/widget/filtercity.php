<script type="text/javascript">  $(document).ready(function() {    $('#list-users').on('click','.iconedit', function() {          $('tr').removeAttr('status','show');          $('.down-detail').css({'display':'none'});          idexams = $(this).attr('value');                                      var clases  = $(this).attr('show');                            var valclas = '#'+clases;                            $(''+valclas+'').css({'display':'table-row'});                            $(valclas).attr('status','show');      });    $('#list-users').on('click','.btnupdate', function() {        $('.sticky-close').click();            $('#parentloading').fadeIn('slow');            var counter=2;              var countdown = setInterval(function(){                if (counter == 0) {                clearInterval(countdown);                $('#parentloading').fadeOut('slow');                      var idcity = $('tr[status=show] td .idcity').val();                      var namecity = $('tr[status=show] td .shownamemodule').val();                      var dataString = 'cityname=' + namecity + '&idcity=' +  idcity ;                      $.ajax({                        type  : "POST",                        url: ""+base_url+"test/updatecity",                        data: dataString,                        dataType:'json',                                  success : function(data){                                                                           $.each( data, function(key,val) {                                   if(val == 'sukses') {                                    $('#sticky').sticky('<span style="color:#802222;">Update Successfully</span>');                                    $('tr[status=show]').slideUp('slow');                                  } else {                                    $('#sticky').sticky('<span style="color:#802222;">Update Unsuccessfully</span>');                                    $('tr[status=show]').slideUp('slow');                                   }                             });                                                                }                      });                      return false;                }                counter--;            }, 500);    }); $('#list-users').on('click','.icondelete', function() {        $('.sticky-close').click();        $('#parentloading').fadeIn('slow');        var idexams = $(this).attr('value');        dataString = 'idcity=' + idexams;            var counter=2;              var countdown = setInterval(function(){                if (counter == 0) {                clearInterval(countdown);                  $.ajax({                    type  : "POST",                    url: ""+base_url+"test/deletecity",                    data: dataString,                    dataType:'json',                              success : function(data){                      $('#parentloading').fadeOut('fast');                                                                   $.each( data, function(key,val) {                                                                 $('tr[atr='+val+']').css({'background':'#feeda9'}).fadeOut('slow');                                $('#sticky').sticky('<span style="color:#802222;">Delete Successfully</span>');                                              });                                                                                   }                    });                    return false;            }            counter--;        }, 500);                       });    $('#selectpartner').change(function() {      $('#testvenue').next().remove();      var partner = $(this).val();      var dataString = 'partner=' + partner;                   $.ajax({                            type  : "POST",                            url: ""+base_url+"schedule/getTestschedule/"+partner+"",                            success : function(data){                                               $('#testvenue').html(data);                                $("#testvenue").attr('class','select');                                $(".select").selecter();                                                                }                    });         });    $('.listcitynames').click(function() {       $('#parentloading').fadeIn('slow');       $('.content-user').css({'opacity':'0.2'});       $('#filtercity').modal('hide');      var city = $(this).attr('atr');      var dataString = 'city=' + city;      var counter=1;              var countdown = setInterval(function(){                if (counter == 0) {                clearInterval(countdown);                   $.ajax({                            type  : "POST",                            url: ""+base_url+"test/filterbycity/",                            data: dataString,                             success : function(data){                                              $('#parentloading').fadeOut('slow');                               $('.load').fadeOut('fast');                               $('.content-user').css({'opacity':'1'});                                           $('.content-user').html(data);                                                                    }                    });                   }            counter--;        }, 500);         });     $('#btnaddcity').click(function() {      var cityname = $('.namecity').val();      var dataString = 'namecity=' + cityname;      if(!$('.namecity').val()) {        $('.namecity').focus();        $('.namecity').attr('placeholder','Cannot be Empty');      } else {                    var counter=2;                      var countdown = setInterval(function(){                        if (counter == 0) {                        clearInterval(countdown);                   $.ajax({                            type  : "POST",                            url: ""+base_url+"test/addcity/",                            data: dataString,                            success : function(data){                                                                      $("#list-users tr:first").after(data).css({'display':'table-row'});                                              $(data).effect("highlight", {color: '#feeda9'}, 2000);                                              $('.namecity').focus();                                              $('.namecity').val('');                                                                  }                    });                    }                  counter--;                }, 500);    }         });    $('#addcity').click(function() {      $('.boxinputcity').toggle();      $('.boxinputcity input[type=text]').focus();    });    $( "#date_of_birth" ).datepicker({                    showOn: "button",                    buttonImage: "<?php echo base_url(); ?>assets/pic/calendar.jpg",                    buttonImageOnly: true,                    dateFormat: "yy-m-d",                  });     $( ".closingreg" ).datepicker({                    showOn: "button",                    buttonImage: "<?php echo base_url(); ?>assets/pic/calendar.jpg",                    buttonImageOnly: true,                    dateFormat: "yy-m-d",                  });    $('#selectpartner').change(function() {                    $('#selectpartner').valid();                });    $('#testvenue').change(function() {                    $('#testvenue').valid();                });    $('#module').change(function() {                    $('#module').valid();                });    $('#date_of_birth').change(function() {                    $('#date_of_birth').valid();                });    $('.closingreg').change(function() {                    $('.closingreg').valid();                });   });</script><style>  #formaddschedule .selecter .selecter-selected {    width:230px;  }  #formaddschedule .selecter .selecter-options{    width:254px;  }</style><div id="filtercity" class="modal hide fade in" style="display: none; ">          <div class="modal-header">              <a class="close" data-dismiss="modal">Ã—</a>              <h4>City</h4>          </div>          <div class="modal-body" style="padding-left:10px;padding-right:10px;">          <div class="box-filtercity"> <div id="addcity"   style="margin-top:0px;margin-right:10px;margin-bottom:10px;"class="btn btn-warning">Add City</div>  <img class="loads" src="<?php echo base_url() ?>assets/pic/load1.gif" > <div class="boxinputcity" style="width:96%;height:40px;background:#efefef;padding:8px;">   <input type="text" name="namecity" class="namecity" style="width:90%;">   <input type="submit" id="btnaddcity" class="btn btn-warning" value="add" style="margin-top:-10px;margin-left:10px;"> </div>                    <table id="list-users" class="table table-striped  table-bordered" style="margin-top:10px;width:98%;">    <tr class="headtable">      <th style="width:71%;">Name</th>      <th style="width:7%;">Count Venues</th>      <th style="width:5%;">Edit</th>      <th style="width:5%;">Delete</th>    </tr>    <?php  if($city) { ?>    <?php foreach ( $city as $row ) { ?>      <tr atr="<?php echo $row->idcity ?>">        <td  class="listcitynames" atr="<?php echo $row->idcity ?>" ><?php echo $row->cityname ?></td>        <td><span style="margin:0px auto;-moz-border-radius:6px 6px 6px;-webkit-border-radius:6px 6px 6px;border-radius:6px 6px 6px;padding:3px;padding-left:8px;padding-right:8px;" class="label label-warning"><?php $this->showuser->countvenue($row->idcity); ?></span></td>        <td><div show="show_edit<?php echo $row->idcity; ?>" value="<?php echo $row->idcity; ?>" class="iconedit"></div></td>        <td ><div value="<?php echo $row->idcity; ?>"  class="icondelete"></div></td>      </tr>      <tr class="down-detail" id="show_edit<?php echo $row->idcity; ?>"  >      <input type="hidden" name="idexams" value="<?php echo $row->idcity; ?>">            <td colspan="4" style="display:table-cell" >              <table>                <tr>                  <td style="padding-top:14px;">Name</td>                  <td colspan="2"><input type="hidden" name="idcity" value="<?php echo $row->idcity ?>" class="idcity"></input><input type="text" name="modulename" value="<?php echo $row->cityname ?>" class="shownamemodule"></input></td>                  <td><input type="submit" name="proses" class="btn btn-success btnupdate" style="float:right;" value="Update"></input></td>                </tr>              </table>            </td>      </tr>     <?php } ?>    <?php } else { ?>      <tr>        <td colspan="4" >Not Found</td>      </tr>    <?php } ?></table>                           </div>          </div>                                                        </div>  